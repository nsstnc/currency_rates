# Веб-приложение для отображения курсов валют

## Обзор

Этот проект представляет собой веб-приложение, которое отображает курсы обмена валют для различных стран. Пользователи могут выбирать диапазон дат и способ отображения информации. При выборе "Plot" приложение генерирует график, показывающий относительные изменения курсов валют по отношению к дефолтной дате, указанной в базе данных.
![alt text](markdown-images/table.png)
![alt text](markdown-images/plot.png)

## Функциональные возможности

- Отображение курсов валют в табличном формате
- Возможность просмотра изменений курсов валют в виде графика
- Выбор диапазона дат для исторических данных
- Данные запрашиваются с [Finmarket](https://www.finmarket.ru) при первом запросе и кэшируются в базе данных SQLite
- Список стран и их основные валюты парсятся с [IBAN](https://www.iban.ru/currency-codes) при обновлении страницы приложения, причем в базу данных записываются только новые или измененные записи

## Технологический стек

- **Backend**: Python, SQLite, SQLAlchemy
- **Обработка данных**: Pandas, BeautifulSoup
- **Frontend**: Streamlit

## Установка

1. Клонируйте репозиторий:

    ```bash
    git clone https://github.com/nsstnc/currency_rates.git
    cd currency_rates
    ```

2. Запустите скрипт setup для настройки виртуального окружения и запуска проекта:

    ```bash
    sh setup.sh  # В Windows используйте `setup.bat`
    ```


## Использование

1. После запуска setup страница в браузере должна открыться сама, но если этого не произошло ткройте ваш веб-браузер и перейдите по адресу `http://localhost:8501`.

## Рабочий процесс приложения

1. **Первоначальная настройка**:
    - При первом запросе курсы валют парсятся с [Finmarket](https://www.finmarket.ru) и сохраняются в базе данных SQLite.
    - Список стран и их основные валюты запрашиваются с [IBAN](https://www.iban.ru/currency-codes) и обновляются в базе данных при наличии новых или измененных записей.

2. **Взаимодействие с пользователем**:
    - Пользователь выбирает диапазон дат в пределах 2-ух лет, для которого он хочет просмотреть курсы валют.
    - Пользователь выбирает страны, курсы основных валют которых он хочет видеть.
    - Пользователь выбирает, как отображать данные: в таблице или в виде графика.

3. **Отображение данных**:
    - Если запрашиваемые данные уже есть в базе данных, они извлекаются и отображаются.
    - Если данных нет в базе данных, они запрашиваются с Finmarket, сохраняются в базе данных и затем отображаются.




## Структура файлов
currency_rates/  
├── markdown-images/ # Директория для хранения изображений документации md  
├── data_manager.py # Класс, реализующий работу с данными  
├── database.db # Файл базы данных SQLite (создается после первого запуска приложения)  
├── database.py # Класс для настройки базы данных  
├── main.py # Основной файл приложения - интерфейс Strealit  
├── models.py # Модели таблиц для базы данных  
├── parser.py # Класс, реализующий функции парсинга данных  
├── README.md # Документация проекта  
├── requirements.txt # Список зависимостей  
├── setup.bat # Скрипт настройки виртуального окружения и запуска проекта для Windows-систем    
├── setup.sh # Скрипт настройки виртуального окружения и запуска проекта для UNIX-систем  
